version: 1
send_anonymous_usage_stats: false
project_id: 4f650ad1-30ec-4d02-b763-6b4ef3509b9e
plugins:
  extractors:
  - name: tap-rest-api
    namespace: tap_rest_api
    pip_url: tap-rest-api
    executable: tap-rest-api
    capabilities:
    - state
    - catalog
    - discover
    settings:
    - name: streams
      kind: string
    - name: schema_dir
      kind: string
    - name: catalog_dir
      kind: string
    - name: url
      kind: string
    - name: auth_method
      kind: string
    - name: http_headers
      kind: string
    - name: username
      kind: string
    - name: password
      kind: string
    - name: offest_start
      kind: integer
    - name: page_start
      kind: integer
    - name: timestamp_key
      kind: string
    - name: start_timestamp
      kind: integer
    - name: end_timestamp
      kind: integer
    - name: datetime_key
      kind: string
    - name: start_datetime
      kind: date_iso8601
    - name: end_datetime
      kind: date_iso8601
    - name: index_key
      kind: string
    - name: start_index
      kind: integer
    - name: end_index
      kind: integer
    - name: items_per_page
      kind: integer
    - name: assume_sorted
      kind: boolean
    - name: max_page
      kind: integer
    - name: filter_by_schema
      kind: boolean
    - name: record_list_level
      kind: string
    - name: record_level
      kind: string
    config:
      url: https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime={start_datetime}&endtime={end_datetime}&minmagnitude={min_magnitude}&limit={items_per_page}&offset={current_offset}&eventtype=earthquake&orderby=time-asc
      record_list_level: features[*]
      timestamp_key: properties.time
      items_per_page: 100
      offset_start: 1
      auth_method: no_auth
      min_magnitude: 1
  loaders:
  - name: target-csv
